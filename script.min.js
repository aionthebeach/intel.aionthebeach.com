document.addEventListener("DOMContentLoaded",()=>{console.log("Tycoon Brief landing page loaded.");const ctaButtons=document.querySelectorAll(".cta-button");const mainCtaButton=document.querySelector("#new-hero .cta-button");if(mainCtaButton){mainCtaButton.classList.add("button-pulse");const originalText=mainCtaButton.textContent;mainCtaButton.textContent="";let i=0;const typeWriter=()=>{if(i<originalText.length){mainCtaButton.textContent+=originalText.charAt(i);i++;setTimeout(typeWriter,50)}};setTimeout(typeWriter,500)}ctaButtons.forEach(button=>{button.setAttribute("data-text",button.textContent);button.addEventListener("click",function(e){if(!this.classList.contains("scanning")){this.classList.add("scanning");const buttonText=this.textContent;this.textContent="PROCESSING";const scanLine=document.createElement("span");scanLine.classList.add("scan-line");this.appendChild(scanLine);setTimeout(()=>{this.textContent=buttonText;this.classList.remove("scanning");if(scanLine.parentNode===this){this.removeChild(scanLine)}},1500)}})});const signupForm=document.querySelector("#fb-lead-form");const signupFormContainer=document.getElementById("signup-form");const confirmationMessage=document.getElementById("confirmation-message");if(signupForm){signupForm.addEventListener("submit",event=>{event.preventDefault();const emailInput=signupForm.querySelector('input[type="email"]');if(emailInput&&emailInput.value){if(typeof fbq!=="undefined"){fbq("track","Lead",{content_name:"Tycoon Brief Signup",content_category:"Intelligence Brief Subscription",value:0,currency:"USD"});console.log("Facebook Lead event tracked")}const submitButton=signupForm.querySelector('button[type="submit"]');if(submitButton){const originalText=submitButton.textContent;submitButton.textContent="PROCESSING";submitButton.disabled=true;signupFormContainer.classList.add("scanning");fetch(signupForm.action,{method:"POST",body:new FormData(signupForm),mode:"no-cors"}).then(()=>{console.log("Form submitted successfully")}).catch(error=>{console.error("Error submitting form:",error)}).finally(()=>{setTimeout(()=>{signupFormContainer.classList.add("fade-out");setTimeout(()=>{confirmationMessage.classList.remove("hidden");void confirmationMessage.offsetWidth;confirmationMessage.classList.add("show");const confirmationText=document.querySelector(".confirmation-text");if(confirmationText){const originalConfirmText=confirmationText.textContent;confirmationText.textContent="";let j=0;const typeConfirmation=()=>{if(j<originalConfirmText.length){confirmationText.textContent+=originalConfirmText.charAt(j);j++;setTimeout(typeConfirmation,40)}};setTimeout(typeConfirmation,300)}},800)},1500)})}else{signupFormContainer.classList.add("fade-out");setTimeout(()=>{confirmationMessage.classList.remove("hidden");confirmationMessage.classList.add("show")},800)}}else{alert("Please enter a valid email address.")}})}const tileHeaders=document.querySelectorAll(".tile-header");tileHeaders.forEach(header=>{header.addEventListener("click",()=>{const tile=header.closest(".headshot-tile");const details=tile.querySelector(".tile-details");if(tile&&details){const isActive=tile.classList.contains("active");tile.classList.toggle("active");if(!isActive){details.style.maxHeight=details.scrollHeight+"px"}else{details.style.maxHeight=null}tileHeaders.forEach(otherHeader=>{const otherTile=otherHeader.closest(".headshot-tile");const otherDetails=otherTile.querySelector(".tile-details");if(otherTile&&otherTile!==tile&&otherTile.classList.contains("active")){otherTile.classList.remove("active");if(otherDetails){otherDetails.style.maxHeight=null}}})}})})});