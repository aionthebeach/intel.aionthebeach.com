document.addEventListener("DOMContentLoaded",(()=>{console.log("Tycoon Brief landing page loaded.");const t=document.querySelectorAll(".cta-button"),e=document.querySelector("#new-hero .cta-button");if(e){e.classList.add("button-pulse");const t=e.textContent;e.textContent="";let n=0;const s=()=>{n<t.length&&(e.textContent+=t.charAt(n),n++,setTimeout(s,50))};setTimeout(s,500)}t.forEach((t=>{t.setAttribute("data-text",t.textContent),t.addEventListener("click",(function(t){if(!this.classList.contains("scanning")){this.classList.add("scanning");const t=this.textContent;this.textContent="PROCESSING";const e=document.createElement("span");e.classList.add("scan-line"),this.appendChild(e),setTimeout((()=>{this.textContent=t,this.classList.remove("scanning"),e.parentNode===this&&this.removeChild(e)}),1500)}}))}));const n=document.querySelector("#fb-lead-form"),s=document.getElementById("signup-form"),o=document.getElementById("confirmation-message");n&&n.addEventListener("submit",(t=>{t.preventDefault();const e=n.querySelector('input[type="email"]');if(e&&e.value){"undefined"!=typeof fbq&&(fbq("track","Lead",{content_name:"Tycoon Brief Signup",content_category:"Intelligence Brief Subscription",value:0,currency:"USD"}),console.log("Facebook Lead event tracked"));const t=n.querySelector('button[type="submit"]');if(t){t.textContent;t.textContent="PROCESSING",t.disabled=!0,s.classList.add("scanning"),setTimeout((()=>{s.classList.add("fade-out"),setTimeout((()=>{o.classList.remove("hidden"),o.offsetWidth,o.classList.add("show");const t=document.querySelector(".confirmation-text");if(t){const e=t.textContent;t.textContent="";let n=0;const s=()=>{n<e.length&&(t.textContent+=e.charAt(n),n++,setTimeout(s,40))};setTimeout(s,300)}}),800)}),1500)}else s.classList.add("fade-out"),setTimeout((()=>{o.classList.remove("hidden"),o.classList.add("show")}),800)}else alert("Please enter a valid email address.")}));const i=document.querySelectorAll(".tile-header");i.forEach((t=>{t.addEventListener("click",(()=>{const e=t.closest(".headshot-tile"),n=e.querySelector(".tile-details");if(e&&n){const t=e.classList.contains("active");e.classList.toggle("active"),n.style.maxHeight=t?null:n.scrollHeight+"px",i.forEach((t=>{const n=t.closest(".headshot-tile"),s=n.querySelector(".tile-details");n&&n!==e&&n.classList.contains("active")&&(n.classList.remove("active"),s&&(s.style.maxHeight=null))}))}}))}))}));